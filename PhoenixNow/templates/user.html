{% extends "layout.html" %}
{% block content %}
  <div style="background: #ffffff; color: black;">

      <h2>{{ user.firstname }} {{ user.lastname }}</h2>

    <div class="table-responsive">
    <table class="table table-striped">

    <tr>
    <th>Last Name</th>
    <th>First Name</th>
    <th>Email</th>
    <th>Grade</th>
    <th>Verified</th>
    <th>Schedule Verified</th>
    <th>Monday</th>
    <th>Tuesday</th>
    <th>Wednesday</th>
    <th>Thursday</th>
    <th>Friday</th>
    </tr>

    <tr>
    <td>{{ user.lastname }}</td>
    <td>{{ user.firstname }}</td>
    <td>{{ user.email }}</td>
    <td>{{ user.grade }}</td>
    <td>{{ user.verified }}</td>
    <td>{{ user.schedule_verified }}</td>
    <td>{{ user.monday }}</td>
    <td>{{ user.tuesday }}</td>
    <td>{{ user.wednesday }}</td>
    <td>{{ user.thursday }}</td>
    <td>{{ user.friday }}</td>
    </tr>

    </table>
    </div>

    <h2>Schedule</h2>

    <div class="table-responsive">
    <table class="table table-striped table-hover">
        <tr>
            <th>Schedule</th>
            <th>Verified</th>
            <th>Verify?</th>
        </tr>
        <tr>
            <td>{{ user.schedule }}</td>
            <td>{{ user.schedule_verified }}</td>
            <td><a href="/admin/user/{{ user.id }}/verify_schedule">Toggle Verification</a></td>
        </tr>
    </table>


    <h2>Check-ins</h2>
    <table class="table table-striped table-responsive table-hover">

    <tr>
    <th>Timestamp</th>
    <th>Name</th>
    </tr>
    
    {% for checkin in user.checkins %}    
    <tr>
    <td> {{ checkin.checkin_timestamp.strftime('%x %X%p') }} </td>
    <td> {{ checkin.user.firstname }} {{ checkin.user.lastname }} </td>
    </tr>
    {% endfor %}

    </table>
    </div>

    <div class="row">
    <div class="col-sm-4"></div>
    <div class="col-sm-4">

    <form style="margin-bottom:10px;" action="{{ url_for('admin.user', user_id=user.id) }}" method=post>
      {{ form.hidden_tag() }}

      <div class="form-group">
      {{ form.firstname.label }}
      {{ form.firstname(class_="form-control") }}
      </div>

      <div class="form-group">
      {{ form.lastname.label }}
      {{ form.lastname(class_="form-control") }}
      </div>

      <div class="form-group">
      <label for="grade">Select Grade Level</label>
        <select class="form-control" name="grade" id="grade">
          <option> 9</option>
          <option>10</option>
          <option>11</option>
          <option>12</option>
        </select>
      </div>

      {{ form.submit(class_="btn btn-default") }}

    </form>

    </div>
    <div class="col-sm-4"></div>
    </div>    

  </div>
{% endblock %}
