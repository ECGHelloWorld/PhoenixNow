{% extends "layout.html" %}
{% block content %}
  <div>

    <h2>User</h2>

    <div class="scrollMe">
    <table id="data">

    <tr>
    <th> ID </th>
    <th> First Name </th>
    <th> Last Name </th>
    <th> Email </th>
    <th> Verified </th>
    <th> Checked In </th>
    <th> Creation </th>
    <th> Checkins </th>
    </tr>

    {% for user in users %}    
    <tr>
    <td> {{ user.id }} </td>
    <td> {{ user.firstname }} </td>
    <td> {{ user.lastname }} </td>
    <td> {{ user.email }} </td>
    <td> {{ user.verified }} </td>
    <td> {{ user.checkedin }} </td>
    <td> {{ user.creation_timestamp.strftime('%Y-%m-%d %H:%M:%S') }} </td>
    <td> {{ user.checkins.count() }} </td>
    </tr>
    {% endfor %}

    </table>

    <h2>Checkin</h2>
    <table id="Checkin">

    <tr>
    <th> checkin_timestamp </th>
    <th> user_id </th>
    </tr>
    
    {% for user in users %}    
    {% for checkin in user.checkins %}    
    <tr>
    <td> {{ checkin.checkin_timestamp.strftime('%Y-%m-%d %H:%M:%S') }} </td>
    <td> {{ checkin.user_id }} </td>
    </tr>
    {% endfor %}
    {% endfor %}

    </table>
    </div>
  </div>
{% endblock %}
